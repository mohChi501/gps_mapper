<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Bus-Stop Mapper</title>

  <!-- Leaflet CSS -->
  <link
    rel="stylesheet"
    href="https://unpkg.com/leaflet/dist/leaflet.css"
  />

  <!-- App Styles -->
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header>
    <h1>Bus-Stop Mapper</h1>
    <button id="toggleData">Toggle Low-Data Mode</button>
  </header>

  <main>
    <!-- GTFS Feed Upload -->
    <section id="gtfsSection">
      <h2>GTFS Feed Upload</h2>
      <input type="file" id="gtfsInput" accept=".zip" />
      <button id="loadGtfsBtn">Load GTFS Feed</button>
      <p id="gtfsStatus">No GTFS loaded</p>
    </section>

    <!-- Recorder Section -->
    <section id="recorder">
      <input
        type="text"
        id="stopName"
        placeholder="Stop Name (optional)"
      />
      <input
        type="text"
        id="stopDesc"
        placeholder="Description (optional)"
      />

      <div id="imageInputs">
        <label for="captureImageRear">Take Photo (Rear Camera):</label>
        <input
          type="file"
          id="captureImageRear"
          accept="image/*"
          capture="environment"
        />

        <label for="captureImageFront">Take Photo (Front Camera):</label>
        <input
          type="file"
          id="captureImageFront"
          accept="image/*"
          capture="user"
        />

        <label for="uploadImage">Upload Image:</label>
        <input
          type="file"
          id="uploadImage"
          accept="image/*"
        />
      </div>

      <button id="recordBtn">Record Current Location</button>
      <button id="exportBtn">Export Stops</button>
    </section>

    <!-- Map Section -->
    <section id="mapSection">
      <div id="map"></div>
    </section>

    <!-- Loader Section -->
    <section id="loader">
      <input type="file" id="uploadFile" accept=".txt" />
      <button id="loadBtn">Load & View Stops</button>
    </section>
  </main>

  <!-- Leaflet JS -->
  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>

  <!-- FileSaver.js -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>

  <!-- JSZip & PapaParse for GTFS -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.7.1/jszip.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.2/papaparse.min.js"></script>

  <!-- App Logic -->
  <script src="app.js"></script>
</body>
</html>
